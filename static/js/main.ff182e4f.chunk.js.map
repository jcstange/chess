{"version":3,"sources":["stories/assets/bishop.svg","stories/assets/chess.png","stories/assets/example/code-brackets.svg","stories/assets/example/colors.svg","stories/assets/example/comments.svg","stories/assets/example/direction.svg","stories/assets/example/flow.svg","stories/assets/example/plugin.svg","stories/assets/example/repo.svg","stories/assets/example/stackalt.svg","stories/assets/king.svg","stories/assets/knight.svg","stories/assets/pawn.svg","stories/assets/queen.svg","stories/assets/rook.svg","Board/status.tsx","Pieces/pieces.tsx","Constants/colors.tsx","Board/square.tsx","Board/board_row.tsx","Board/cemetery.tsx","Board/utils.tsx","board.tsx","Board/board_mechanics.tsx","stories/Dialogs/pawnSwitch.tsx","stories/Dialogs/pawnSwitchDialog.tsx","windowDimension.ts","Repositories/movementRepository.tsx","stories/Components/TurnBar.tsx","stories/Buttons/SelectButton.tsx","stories/Dialogs/JoinGameDialog.tsx","stories/Dialogs/GameSelectionDialog.tsx","stories/Components/CodeGenerator.tsx","stories/Dialogs/CreateGameDialog.tsx","Board/board_component.tsx","index.tsx","stories/assets/darkTexture.jpeg","stories/assets sync /^/.//.*$","stories/assets/lightTexture.jpeg"],"names":["Status","Piece","isBlack","movement","image","this","Pawn","canJump","firstMove","v","h","moves","movesToKill","Rook","Knight","Bishop","Queen","King","Colors","Square","position","piece","canMove","canKill","selected","inCheck","onSelected","columns","findIndex","i","column","row","styles","square","width","height","maxWidth","maxHeight","backgroundImage","darkTexture","lightTexture","backgroundPosition","backgroundRepeat","backgroundColor","borderStyle","borderWidth","borderColor","className","style","onClick","top","left","margin","zIndex","filter","transform","src","undefined","length","require","display","marginLeft","default","alt","getImage","BoardRow","rowNumber","pieces","check","boardRow","justifyContent","alignItems","wrapper","handleSelected","canMoveToSquare","positions","comparePositions","positionA","positionB","renderSquare","columnNumber","textAlign","marginBottom","marginTop","Cemetery","cemetery","CemeteryWrapper","styled","div","FlexContainer","map","padding","MovementType","StatusTab","status","restart","white","alignSelf","color","fontFamily","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","marginRight","black","CHECK","borderRadius","resetButtom","Replay","Board","startBoard","history","push","getColumnNumber","boardPosition","Array","getColumnLetter","createNewBoard","_startBoard","slice","getPieceType","pieceType","addDirectionalMove","boardValues","move","pieceInPosition","board","getPieceFromPosition","getCheck","piecePositions","j","console","table","forEach","getMovesForPiece","possibleMovements","killMovements","blockForward","blockBackward","blockLeft","blockRight","blockForwardLeftDiagonal","blockForwardRightDiagonal","blockBackwardLeftDiagonal","blockBackwardRightDiagonal","castle","king","kingPosition","rookPositions","newBoardValues","horizontalMovements","rookPosition","canCastle","every","log","castleIndex","newKingPosition","newRookPosition","rook","removePieceFromPosition","addPieceToPosition","movements","iterations","PawnSwitch","pawnSwitch","item","useState","selectedPiece","setSelectedPiece","selectPiece","PawnSwitchDialog","open","handleClose","setSelected","Dialog","Button","disabled","getWindowDimensions","window","innerWidth","innerHeight","isMaxWidth","windowDimensions","dotenv","path","host","getMovements","onSuccess","axios","get","then","response","data","newMovements","catch","error","postMovement","post","TurnBar","TurnBarWhite","p","blackTurn","TurnBarBlack","SelectButton","JoinGameDialog","buttonClick","backClick","MultiplayerDialog","MultiplayerDialogWrapper","DialogContentWrapper","Header","CodeInput","input","Title","TransitionComponent","Slide","transitionDuration","PaperProps","boxShadow","overflow","type","GameSelectionDialog","textOne","textTwo","clickOne","clickTwo","InlineWrapper","CodeGenerator","CodeGeneratorField","random","Math","toString","substring","CreateGameDialog","BoardComponent","_blackTurn","isMobile","setIsMobile","useEffect","handleResize","_isMobile","addEventListener","removeEventListener","useIsMax","useRef","texture","BoardWrapper","FlexDiv","RowNumber","endGame","setBoardValues","boardValuesRef","multiplayer","setMultiplayer","gameSelectionDialog","setGameSelectionDialog","multiplayerDialog","setMultiplayerDialog","createGameDialog","setCreateGameDialog","joinGameDialog","setJoinGameDialog","openDialog","setOpenDialog","endDialog","setEndDialog","sseStarted","setSseStarted","loading","movePiece","current","checkPiece","checkPawnSwitch","handleKillMove","killerPiece","deadPiece","killMove","handlePawnSwitch","pawnSwitchPiece","from","to","Castle","handleCastle","Kill","selectedPosition","Movement","resetBoard","resetBoardValues","delete","handleMultiplayerMovement","eventMovements","eventLastMove","numberOfMovesAhead","parseInt","renderRow","listener","eventNumber","EventSource","event","rowNumbers","TURN","Game","Root","document","body","background","transition","updateBackground","ReactDOM","render","getElementById","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/main.ff182e4f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bishop.6727dca6.svg\";","export default __webpack_public_path__ + \"static/media/chess.a5211027.png\";","export default __webpack_public_path__ + \"static/media/code-brackets.2e1112d7.svg\";","export default __webpack_public_path__ + \"static/media/colors.a4bd0486.svg\";","export default __webpack_public_path__ + \"static/media/comments.a3859089.svg\";","export default __webpack_public_path__ + \"static/media/direction.b770f9af.svg\";","export default __webpack_public_path__ + \"static/media/flow.edad2ac1.svg\";","export default __webpack_public_path__ + \"static/media/plugin.d494b228.svg\";","export default __webpack_public_path__ + \"static/media/repo.6d496322.svg\";","export default __webpack_public_path__ + \"static/media/stackalt.dba9fbb3.svg\";","export default __webpack_public_path__ + \"static/media/king.224e4ea9.svg\";","export default __webpack_public_path__ + \"static/media/knight.523bf944.svg\";","export default __webpack_public_path__ + \"static/media/pawn.cadce3db.svg\";","export default __webpack_public_path__ + \"static/media/queen.c8b6f32b.svg\";","export default __webpack_public_path__ + \"static/media/rook.36330e5b.svg\";","import React from \"react\"\nimport { Colors } from \"../Constants/colors\"\nimport \"@fontsource/roboto\"\nimport { Replay } from \"@material-ui/icons\"\n\ntype StatusProps = {\n    isBlack: boolean\n    status: Status\n    restart: () => void\n}\n\nexport enum Status {\n    TURN = \"Turn\",\n    CHECK = \"Check\",\n    CHECK_MATE = \"Check Mate\",\n    PAWN_SWITCH = \"Choose piece\",\n}\n\nexport const StatusTab: React.FC<StatusProps> = ({\n    isBlack,\n    status,\n    restart,\n}) => {\n    const styles = {\n        status: {\n            display: \"inline-flex\",\n            marginBottom: 5,\n            width: \"100%\",\n        },\n        white: {\n            width: \"30%\",\n            textAlign: \"center\" as \"center\",\n            alignSelf: \"center\" as \"center\",\n            color: Colors.white,\n            fontFamily: \"Roboto\",\n            backgroundColor: isBlack\n                ? Colors.light_gray\n                : Colors.selected_green,\n            padding: 16,\n            borderTopLeftRadius: 5,\n            borderBottomLeftRadius: 5,\n            borderTopRightRadius: 0,\n            borderBottomRightRadius: 0,\n            marginTop: 5,\n            marginBottom: 5,\n            marginRight: 0,\n            marginLeft: 5,\n            filter: `drop-shadow(2px 2px 2px ${Colors.shadow_gray})`,\n        },\n        black: {\n            width: \"30%\",\n            textAlign: \"center\" as \"center\",\n            alignSelf: \"center\" as \"center\",\n            color: Colors.white,\n            fontFamily: \"Roboto\",\n            backgroundColor: isBlack\n                ? Colors.selected_green\n                : Colors.light_gray,\n            padding: 16,\n            borderTopLeftRadius: 0,\n            borderBottomLeftRadius: 0,\n            borderTopRightRadius: 5,\n            borderBottomRightRadius: 5,\n            marginTop: 5,\n            marginBottom: 5,\n            marginRight: 5,\n            marginLeft: 0,\n            filter: `drop-shadow(2px 2px 2px ${Colors.black})`,\n        },\n        check: {\n            width: \"30%\",\n            textAlign: \"center\" as \"center\",\n            alignSelf: \"center\" as \"center\",\n            color: Colors.white,\n            fontFamily: \"Roboto\",\n            backgroundColor:\n                status === Status.CHECK ? Colors.red : Colors.light_gray,\n            padding: 16,\n            borderRadius: 5,\n            margin: 5,\n            filter: `drop-shadow(2px 2px 2px ${Colors.shadow_gray})`,\n        },\n        resetButtom: {\n            textAlign: \"center\" as \"center\",\n            alignSelf: \"center\" as \"center\",\n            width: \"10%\",\n            padding: 12,\n            borderColor: isBlack ? Colors.white : Colors.black,\n            borderRadius: 5,\n            margin: 5,\n            filter: `drop-shadow(2px 2px 2px ${Colors.shadow_gray})`,\n            backgroundColor: Colors.move_blue,\n        },\n    }\n    return (\n        <div style={styles.status}>\n            <div style={styles.resetButtom}>\n                <Replay\n                    style={{ color: Colors.white, alignSelf: \"end\" }}\n                    onClick={() => restart()}\n                />\n            </div>\n        </div>\n    )\n}\n","export type Move = {\n    v: number\n    h: number\n}\n\nexport type Movement = {\n    canJump: boolean\n    firstMove: Move[] | null\n    moves: Move[]\n    movesToKill: Move[] | null\n}\n\nexport abstract class Piece {\n    constructor(isBlack: boolean) {\n        this.isBlack = isBlack\n        this.movement = null\n        this.image = null\n    }\n    movement: Movement | null\n    image: string | null\n    isBlack: boolean\n}\n\nexport class Pawn extends Piece {\n    constructor(isBlack: boolean) {\n        super(isBlack)\n        this.movement = {\n            canJump: false,\n            firstMove: [\n                { v: 1, h: 0 },\n                { v: 2, h: 0 },\n            ],\n            moves: [{ v: 1, h: 0 }],\n            movesToKill: [\n                { v: 1, h: 1 },\n                { v: 1, h: -1 },\n            ],\n        }\n        this.image = \"pawn.svg\"\n    }\n}\n\nexport class Rook extends Piece {\n    constructor(isBlack: boolean) {\n        super(isBlack)\n        this.movement = {\n            canJump: false,\n            firstMove: [],\n            moves: [\n                { v: 1, h: 0 },\n                { v: 2, h: 0 },\n                { v: 3, h: 0 },\n                { v: 4, h: 0 },\n                { v: 5, h: 0 },\n                { v: 6, h: 0 },\n                { v: 7, h: 0 },\n                { v: 0, h: 1 },\n                { v: 0, h: 2 },\n                { v: 0, h: 3 },\n                { v: 0, h: 4 },\n                { v: 0, h: 5 },\n                { v: 0, h: 6 },\n                { v: 0, h: 7 },\n                { v: -1, h: 0 },\n                { v: -2, h: 0 },\n                { v: -3, h: 0 },\n                { v: -4, h: 0 },\n                { v: -5, h: 0 },\n                { v: -6, h: 0 },\n                { v: -7, h: 0 },\n                { v: 0, h: -1 },\n                { v: 0, h: -2 },\n                { v: 0, h: -3 },\n                { v: 0, h: -4 },\n                { v: 0, h: -5 },\n                { v: 0, h: -6 },\n                { v: 0, h: -7 },\n            ],\n            movesToKill: null,\n        }\n        this.image = \"rook.svg\"\n    }\n}\n\nexport class Knight extends Piece {\n    constructor(isBlack: boolean) {\n        super(isBlack)\n        this.movement = {\n            canJump: true,\n            firstMove: null,\n            moves: [\n                { v: 1, h: 2 },\n                { v: 2, h: 1 },\n                { v: -1, h: 2 },\n                { v: -2, h: 1 },\n                { v: -1, h: -2 },\n                { v: -2, h: -1 },\n                { v: 1, h: -2 },\n                { v: 2, h: -1 },\n            ],\n            movesToKill: null,\n        }\n        this.image = \"knight.svg\"\n    }\n}\n\nexport class Bishop extends Piece {\n    constructor(isBlack: boolean) {\n        super(isBlack)\n        this.movement = {\n            canJump: false,\n            firstMove: null,\n            moves: [\n                { v: 1, h: 1 },\n                { v: 2, h: 2 },\n                { v: 3, h: 3 },\n                { v: 4, h: 4 },\n                { v: 5, h: 5 },\n                { v: 6, h: 6 },\n                { v: 7, h: 7 },\n                { v: -1, h: 1 },\n                { v: -2, h: 2 },\n                { v: -3, h: 3 },\n                { v: -4, h: 4 },\n                { v: -5, h: 5 },\n                { v: -6, h: 6 },\n                { v: -7, h: 7 },\n                { v: -1, h: -1 },\n                { v: -2, h: -2 },\n                { v: -3, h: -3 },\n                { v: -4, h: -4 },\n                { v: -5, h: -5 },\n                { v: -6, h: -6 },\n                { v: -7, h: -7 },\n                { v: 1, h: -1 },\n                { v: 2, h: -2 },\n                { v: 3, h: -3 },\n                { v: 4, h: -4 },\n                { v: 5, h: -5 },\n                { v: 6, h: -6 },\n                { v: 7, h: -7 },\n            ],\n            movesToKill: null,\n        }\n        this.image = \"bishop.svg\"\n    }\n}\n\nexport class Queen extends Piece {\n    constructor(isBlack: boolean) {\n        super(isBlack)\n        this.movement = {\n            canJump: false,\n            firstMove: null,\n            moves: [\n                //horizontal\n                { v: 0, h: 1 },\n                { v: 0, h: 2 },\n                { v: 0, h: 3 },\n                { v: 0, h: 4 },\n                { v: 0, h: 5 },\n                { v: 0, h: 6 },\n                { v: 0, h: 7 },\n                { v: 0, h: -1 },\n                { v: 0, h: -2 },\n                { v: 0, h: -3 },\n                { v: 0, h: -4 },\n                { v: 0, h: -5 },\n                { v: 0, h: -6 },\n                { v: 0, h: -7 },\n                //vertical\n                { v: 1, h: 0 },\n                { v: 2, h: 0 },\n                { v: 3, h: 0 },\n                { v: 4, h: 0 },\n                { v: 5, h: 0 },\n                { v: 6, h: 0 },\n                { v: 7, h: 0 },\n                { v: -1, h: 0 },\n                { v: -2, h: 0 },\n                { v: -3, h: 0 },\n                { v: -4, h: 0 },\n                { v: -5, h: 0 },\n                { v: -6, h: 0 },\n                { v: -7, h: 0 },\n                //diagonal\n                { v: 1, h: 1 },\n                { v: 2, h: 2 },\n                { v: 3, h: 3 },\n                { v: 4, h: 4 },\n                { v: 5, h: 5 },\n                { v: 6, h: 6 },\n                { v: 7, h: 7 },\n                { v: -1, h: 1 },\n                { v: -2, h: 2 },\n                { v: -3, h: 3 },\n                { v: -4, h: 4 },\n                { v: -5, h: 5 },\n                { v: -6, h: 6 },\n                { v: -7, h: 7 },\n                { v: 1, h: -1 },\n                { v: 2, h: -2 },\n                { v: 3, h: -3 },\n                { v: 4, h: -4 },\n                { v: 5, h: -5 },\n                { v: 6, h: -6 },\n                { v: 7, h: -7 },\n                { v: -1, h: -1 },\n                { v: -2, h: -2 },\n                { v: -3, h: -3 },\n                { v: -4, h: -4 },\n                { v: -5, h: -5 },\n                { v: -6, h: -6 },\n                { v: -7, h: -7 },\n            ],\n            movesToKill: null,\n        }\n        this.image = \"queen.svg\"\n    }\n}\n\nexport class King extends Piece {\n    constructor(isBlack: boolean) {\n        super(isBlack)\n        this.movement = {\n            canJump: false,\n            moves: [\n                { v: 1, h: 1 },\n                { v: 0, h: 1 },\n                { v: 1, h: 0 },\n                { v: -1, h: -1 },\n                { v: 0, h: -1 },\n                { v: -1, h: 0 },\n                { v: -1, h: 1 },\n                { v: 1, h: -1 },\n            ],\n            firstMove: [],\n            movesToKill: null,\n        }\n        this.image = \"king.svg\"\n    }\n}\n","export const Colors = {\n    black: \"#000000\",\n    white: \"#FFFFFF\",\n    light_brown: \"#FFD8B0\",\n    brown: \"#C78D52\",\n    selected_green: \"#6dbfa1\",\n    move_blue: \"#68abba\",\n    red: \"#c73434\",\n    shadow_gray: \"#3A3A3A\",\n    light_gray: \"#9A9A9A\",\n}\n","import React from \"react\"\nimport { Piece } from \"../Pieces/pieces\"\nimport { Colors } from \"../Constants/colors\"\nimport lightTexture from \"../stories/assets/lightTexture.jpeg\"\nimport darkTexture from \"../stories/assets/darkTexture.jpeg\"\n\ntype SquareProps = {\n    position: BoardPosition\n    piece: Nullable<Piece>\n    canMove: boolean\n    canKill: boolean\n    selected: boolean\n    inCheck: boolean\n    onSelected: (boardPosition: BoardPosition) => void\n}\n\nexport const Square: React.FC<SquareProps> = ({\n    position,\n    piece,\n    canMove,\n    canKill,\n    selected,\n    inCheck,\n    onSelected,\n}) => {\n    const columns = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"]\n\n    /*\n     * Check if column starts with black square\n     */\n    function firstBlack(): boolean {\n        const index = columns.findIndex((i) => i === position.column)\n        if (index % 2) return true\n        else return false\n    }\n\n    /*\n     * Check is this square is a black square\n     */\n    function isBlack(): boolean {\n        if (firstBlack()) {\n            if (position.row % 2) return false\n            else return true\n        } else {\n            if (position.row % 2) return true\n            else return false\n        }\n    }\n\n    function selectPiece() {\n        onSelected(position)\n    }\n\n    function getImage(src: string | null | undefined) {\n        if (src === null || src === undefined)\n            return <div className=\"emptySquare\"></div>\n        if (src.length > 2) {\n            var image = require(\"../stories/assets/\" + src)\n            return (\n                <img\n                    style={{\n                        display: \"block\",\n                        width: \"50%\",\n                        marginLeft: \"25%\",\n                        filter: piece?.isBlack ? \"none\" : \"invert(100%)\",\n                    }}\n                    src={image.default}\n                    alt=\"\"\n                    className=\"pieceImage\"\n                />\n            )\n        } else {\n            return src\n        }\n    }\n\n    const styles = {\n        square: {\n            width: \"10vw\",\n            height: \"10vw\",\n            maxWidth: 100,\n            maxHeight: 100,\n            backgroundImage: selected\n                ? \"none\"\n                : inCheck\n                ? \"none\"\n                : canMove\n                ? \"none\"\n                : canKill\n                ? \"none\"\n                : isBlack()\n                ? `url(${darkTexture})`\n                : `url(${lightTexture})`,\n            backgroundPosition: \"center\",\n            backgroundRepeat: \"repeat\",\n            backgroundColor: selected\n                ? Colors.selected_green\n                : inCheck\n                ? Colors.red\n                : canMove\n                ? Colors.move_blue\n                : canKill\n                ? Colors.red\n                : isBlack()\n                ? Colors.brown\n                : Colors.light_brown,\n            borderStyle: \"solid\",\n            borderWidth: 1,\n            borderColor: Colors.white,\n        },\n    }\n    return (\n        <div\n            className=\"square\"\n            style={styles.square}\n            onClick={() => selectPiece()}\n        >\n            <div\n                style={{\n                    position: \"relative\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    margin: 0,\n                    zIndex: 1,\n                    filter: `drop-shadow(4px 4px 4px ${Colors.shadow_gray})`,\n                    transform: \"translate(-50%,-50%)\",\n                }}\n            >\n                {getImage(piece?.image)}\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { Piece } from \"../Pieces/pieces\"\nimport { Square } from \"./square\"\n\ntype BoardRowProps = {\n    rowNumber: number\n    pieces: Nullable<Piece>[]\n    selected: Nullable<BoardPosition>\n    canMove: Nullable<BoardPosition>[] | null\n    canKill: Nullable<BoardPosition>[] | null\n    check: Nullable<[BoardPosition, BoardPosition]>\n    onSelected: (boardPosition: BoardPosition) => void\n}\n\nexport const BoardRow: React.FC<BoardRowProps> = ({\n    rowNumber,\n    pieces,\n    selected,\n    canMove,\n    canKill,\n    check,\n    onSelected,\n}) => {\n    const styles = {\n        boardRow: {\n            display: \"flex\",\n            width: \"100%\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n        },\n        wrapper: {\n            display: \"block\",\n        },\n    }\n\n    function handleSelected(position: BoardPosition) {\n        onSelected(position)\n    }\n\n    function canMoveToSquare(\n        position: Nullable<BoardPosition>,\n        positions: Nullable<BoardPosition>[] | null,\n    ): boolean {\n        if (positions === null) return false\n        if (positions.length === 0) return false\n        if (position === null) return false\n        for (let i = 0; i < positions.length; i++) {\n            if (positions[i] === null) return false\n            if (positions[i]!.column === null) return false\n            if (positions[i]!.row === null) return false\n            if (\n                positions[i]!.column! === position!.column! &&\n                positions[i]!.row! === position!.row!\n            ) {\n                return true\n            }\n        }\n        return false\n    }\n\n    function comparePositions(\n        positionA: Nullable<BoardPosition>,\n        positionB: Nullable<BoardPosition>,\n    ) {\n        return (\n            positionA !== null &&\n            positionB !== null &&\n            positionA.column === positionB.column &&\n            positionA.row === positionB.row\n        )\n    }\n\n    function renderSquare(column: string) {\n        const columns = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"]\n\n        let columnNumber: number | null = columns.findIndex((i) => i === column)\n\n        if (columnNumber == null) return\n\n        const position = { column: column, row: rowNumber } as BoardPosition\n\n        if (rowNumber === 8) {\n            return (\n                <div className=\"rowWrapper\" style={styles.wrapper}>\n                    <div\n                        className=\"columnName\"\n                        style={{\n                            textAlign: \"center\",\n                            marginBottom: 15,\n                            marginTop: 15,\n                        }}\n                    >\n                        {column}\n                    </div>\n                    <Square\n                        position={position}\n                        piece={pieces ? pieces[columnNumber] : null}\n                        canMove={canMoveToSquare(position, canMove)}\n                        canKill={canMoveToSquare(position, canKill)}\n                        selected={comparePositions(position, selected)}\n                        inCheck={comparePositions(\n                            position,\n                            check ? check[1] : null,\n                        )}\n                        onSelected={(position: BoardPosition) =>\n                            handleSelected(position)\n                        }\n                    />\n                </div>\n            )\n        }\n        return (\n            <div className=\"squareWrapper\" style={styles.wrapper}>\n                <Square\n                    position={position}\n                    piece={pieces ? pieces[columnNumber] : null}\n                    canMove={canMoveToSquare(position, canMove)}\n                    canKill={canMoveToSquare(position, canKill)}\n                    selected={comparePositions(position, selected)}\n                    inCheck={comparePositions(\n                        position,\n                        check ? check[1] : null,\n                    )}\n                    onSelected={(position: BoardPosition) =>\n                        handleSelected(position)\n                    }\n                />\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"boardRow\" style={styles.boardRow}>\n            {renderSquare(\"A\")}\n            {renderSquare(\"B\")}\n            {renderSquare(\"C\")}\n            {renderSquare(\"D\")}\n            {renderSquare(\"E\")}\n            {renderSquare(\"F\")}\n            {renderSquare(\"G\")}\n            {renderSquare(\"H\")}\n        </div>\n    )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Colors } from \"../Constants/colors\"\nimport { Piece } from \"../Pieces/pieces\"\n\ntype CemeteryProps = {\n    cemetery: Piece[]\n}\n\nexport const Cemetery: React.FC<CemeteryProps> = ({ cemetery }) => {\n    const CemeteryWrapper = styled.div`\n        padding: 20px;\n    `\n    const FlexContainer = styled.div`\n        display: flex;\n    `\n    function makeList() {\n        return cemetery.map((i) => {\n            if (i === null) return <div></div>\n            var image = require(\"../stories/assets/\" + i.image)\n            return (\n                <div\n                    style={{\n                        backgroundColor: i?.isBlack\n                            ? Colors.white\n                            : Colors.black,\n                    }}\n                >\n                    <img\n                        style={{\n                            display: \"block\",\n                            width: \"50%\",\n                            padding: 20,\n                            filter: i?.isBlack ? \"none\" : \"invert(100%)\",\n                        }}\n                        src={image.default}\n                        alt=\"\"\n                    />\n                </div>\n            )\n        })\n    }\n    return (\n        <CemeteryWrapper>\n            <FlexContainer>{makeList()}</FlexContainer>\n        </CemeteryWrapper>\n    )\n}\n","import {\n    Piece,\n    Pawn,\n    Rook,\n    Bishop,\n    Knight,\n    Queen,\n    King,\n} from \"../Pieces/pieces\"\nimport { Board } from \"../board\"\n\nexport const startBoard: Nullable<Piece>[][] = [\n    [\n        new Rook(false),\n        new Knight(false),\n        new Bishop(false),\n        new Queen(false),\n        new King(false),\n        new Bishop(false),\n        new Knight(false),\n        new Rook(false),\n    ],\n    [\n        new Pawn(false),\n        new Pawn(false),\n        new Pawn(false),\n        new Pawn(false),\n        new Pawn(false),\n        new Pawn(false),\n        new Pawn(false),\n        new Pawn(false),\n    ],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [\n        new Pawn(true),\n        new Pawn(true),\n        new Pawn(true),\n        new Pawn(true),\n        new Pawn(true),\n        new Pawn(true),\n        new Pawn(true),\n        new Pawn(true),\n    ],\n    [\n        new Rook(true),\n        new Knight(true),\n        new Bishop(true),\n        new Queen(true),\n        new King(true),\n        new Bishop(true),\n        new Knight(true),\n        new Rook(true),\n    ],\n]\n\nexport function getColumnNumber(column: string): number {\n    const columns = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"]\n    for (let i = 0; i < columns.length; i++) {\n        if (column === columns[i]) {\n            return i\n        }\n    }\n    // eslint-disable-next-line no-throw-literal\n    throw \"Column doesn't exist\"\n}\n\nexport function getColumnLetter(column: number): string {\n    const columns = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"]\n    return columns[column]\n}\n\nexport function createBoardPosition(\n    boardPosition: string,\n): Nullable<BoardPosition> {\n    if (getColumnNumber(boardPosition[0]) === null) return null\n    if (Number(boardPosition[1]) <= 0 && Number(boardPosition[1]) < 8)\n        return null\n    return { column: boardPosition[0], row: Number(boardPosition[1]) }\n}\n\nexport function createNewBoard(): Board {\n    const _startBoard: Nullable<Piece>[][] = startBoard\n        .slice()\n        .map((i: Nullable<Piece>[]) =>\n            i.slice().map((piece: Nullable<Piece>) => {\n                if (piece !== null) {\n                    if (piece instanceof Pawn) {\n                        return new Pawn(piece.isBlack)\n                    }\n                    if (piece instanceof Rook) {\n                        return new Rook(piece.isBlack)\n                    }\n                    if (piece instanceof Knight) {\n                        return new Knight(piece.isBlack)\n                    }\n                    if (piece instanceof Bishop) {\n                        return new Bishop(piece.isBlack)\n                    }\n                    if (piece instanceof Queen) {\n                        return new Queen(piece.isBlack)\n                    }\n                    if (piece instanceof King) {\n                        return new King(piece.isBlack)\n                    }\n                    return null\n                } else return null\n            }),\n        )\n    return new Board(_startBoard)\n}\n\nexport enum MovementType {\n    Movement = \"movement\",\n    Kill = \"kill\",\n    Castle = \"castle\",\n    Rook = \"rook\",\n    Knight = \"knight\",\n    Bishop = \"bishop\",\n    Queen = \"queen\",\n}\n\nexport function getPieceType(piece: Piece): string {\n    var pieceType: string = \"\"\n    if (piece instanceof Rook) {\n        pieceType = MovementType.Rook\n    }\n    if (piece instanceof Knight) {\n        pieceType = MovementType.Knight\n    }\n    if (piece instanceof Bishop) {\n        pieceType = MovementType.Bishop\n    }\n    if (piece instanceof Queen) {\n        pieceType = MovementType.Queen\n    }\n    return pieceType\n}\n","import { Piece } from \"./Pieces/pieces\"\nimport { getColumnNumber } from \"./Board/utils\"\n\nexport class Board extends Array<Array<Nullable<Piece>>> {\n    history: Nullable<Piece>[][][] = []\n    constructor(startBoard: Nullable<Piece>[][]) {\n        super(...startBoard)\n        this.history.push(startBoard)\n    }\n\n    getPieceFromPosition(position: Nullable<BoardPosition>): Nullable<Piece> {\n        if (position == null) return null\n        const row: number = position.row - 1\n        const column: number = getColumnNumber(position.column)\n        const boardPosition: Nullable<Piece> = this[row][column]\n        return boardPosition\n    }\n\n    addPieceToPosition(piece: Piece, boardPosition: BoardPosition) {\n        this[boardPosition.row - 1][getColumnNumber(boardPosition.column)] =\n            piece\n        this.history.push(this)\n    }\n\n    removePieceFromPosition(boardPosition: BoardPosition) {\n        this[boardPosition.row - 1][getColumnNumber(boardPosition.column)] =\n            null\n    }\n}\n","import { Piece } from \"../Pieces/pieces\"\nimport { Board } from \"../board\"\nimport { getColumnNumber, getColumnLetter } from \"./utils\"\nimport { Move } from \"../Pieces/pieces\"\nimport { Pawn, King, Rook } from \"../Pieces/pieces\"\nimport { createNewBoard } from \"./utils\"\n\nexport type BoardValues = {\n    board: Board\n    selected: Nullable<BoardPosition>\n    movements: Nullable<BoardPosition>[]\n    killMovements: Nullable<BoardPosition>[]\n    check: Nullable<[BoardPosition, BoardPosition]>\n    cemetery: Piece[]\n    endGame: boolean\n    iterations: number\n}\n\nexport function addDirectionalMove(\n    boardValues: BoardValues,\n    piece: Piece,\n    position: BoardPosition,\n    move: Move,\n): [Nullable<BoardPosition>, Nullable<BoardPosition>] {\n    const columnNumber = getColumnNumber(position.column)! + move.h\n    const row = piece.isBlack ? position.row - move.v : position.row + move.v\n    if (columnNumber < 8 && columnNumber >= 0) {\n        const column = getColumnLetter(columnNumber)\n        if (row <= 8 && row > 0) {\n            const boardPosition = { column: column, row: row }\n            const pieceInPosition =\n                boardValues.board.getPieceFromPosition(boardPosition)\n            if (pieceInPosition == null) {\n                return [boardPosition, null]\n            } else {\n                if (pieceInPosition.isBlack !== piece.isBlack) {\n                    return [null, boardPosition]\n                }\n            }\n        }\n    }\n    return [null, null]\n}\n\nexport function getCheck(\n    boardValues: BoardValues,\n): Nullable<[BoardPosition, BoardPosition]> {\n    let piecePositions = []\n    var check: Nullable<[BoardPosition, BoardPosition]> = null\n\n    // get piece positions\n    for (let i = 0; i < 8; i++) {\n        for (let j = 0; j < 8; j++) {\n            const piece = boardValues.board[i][j]\n            if (piece !== null) {\n                piecePositions.push({\n                    column: getColumnLetter(j),\n                    row: i + 1,\n                })\n            }\n        }\n    }\n\n    console.table(boardValues.board)\n\n    // search for kill movements\n    piecePositions.forEach((i: BoardPosition) => {\n        const piece = boardValues.board.getPieceFromPosition(i)\n        const moves = getMovesForPiece(boardValues, piece, i)\n        moves[1].forEach((j) => {\n            const killPiece = boardValues.board.getPieceFromPosition(j)\n            if (killPiece instanceof King) {\n                check = [i, j!]\n            }\n        })\n    })\n    return check\n}\n\nexport function getMovesForPiece(\n    boardValues: BoardValues,\n    piece: Nullable<Piece>,\n    position: BoardPosition,\n): [Movements, KillMovements] {\n    if (piece === null) return [[], []]\n    if (piece.movement === null) return [[], []]\n    let possibleMovements: Movements = []\n    let killMovements: KillMovements = []\n    let blockForward = false\n    let blockBackward = false\n    let blockLeft = false\n    let blockRight = false\n    let blockForwardLeftDiagonal = false\n    let blockForwardRightDiagonal = false\n    let blockBackwardLeftDiagonal = false\n    let blockBackwardRightDiagonal = false\n    //handle pawn movements\n    if (piece instanceof Pawn) {\n        if (piece.movement.firstMove !== null) {\n            piece.movement.firstMove.forEach((i) => {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                possibleMovements.push(movement[0])\n            })\n        } else {\n            piece.movement.moves.forEach((i) => {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                possibleMovements.push(movement[0])\n            })\n        }\n        piece.movement.movesToKill?.forEach((i) => {\n            const movement = addDirectionalMove(boardValues, piece, position, i)\n            if (movement[1] !== null) killMovements.push(movement[1])\n        })\n        return [possibleMovements, killMovements]\n    }\n    if (piece instanceof King) {\n        let castle = canCastle(boardValues, piece, position)\n        if (castle !== null) {\n            castle.rookPosition.every((i) => possibleMovements.push(i))\n        }\n    }\n    piece.movement.moves.forEach((i) => {\n        if (i.h > 0 && i.v === 0) {\n            //right movements\n            if (!blockRight) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockRight = true\n                } else {\n                    blockRight = true\n                }\n            }\n        }\n        if (i.h < 0 && i.v === 0) {\n            //left movements\n            if (!blockLeft) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockLeft = true\n                } else {\n                    blockLeft = true\n                }\n            }\n        }\n        if (i.h === 0 && i.v > 0) {\n            //forward movements\n            if (!blockForward) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockForward = true\n                } else {\n                    blockForward = true\n                }\n            }\n        }\n        if (i.h === 0 && i.v < 0) {\n            //backward movements\n            if (!blockBackward) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockBackward = true\n                } else {\n                    blockBackward = true\n                }\n            }\n        }\n        if (i.h > 0 && i.v < 0) {\n            //left backward\n            if (piece.movement?.canJump || !blockBackwardRightDiagonal) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockBackwardRightDiagonal = true\n                } else {\n                    blockBackwardRightDiagonal = true\n                }\n            }\n        }\n        if (i.h < 0 && i.v < 0) {\n            //right backward\n            if (piece.movement?.canJump || !blockBackwardLeftDiagonal) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockBackwardLeftDiagonal = true\n                } else {\n                    blockBackwardLeftDiagonal = true\n                }\n            }\n        }\n        if (i.h > 0 && i.v > 0) {\n            //right forward\n            if (piece.movement?.canJump || !blockForwardRightDiagonal) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockForwardRightDiagonal = true\n                } else {\n                    blockForwardRightDiagonal = true\n                }\n            }\n        }\n        if (i.h < 0 && i.v > 0) {\n            //left forward\n            if (piece.movement?.canJump || !blockForwardLeftDiagonal) {\n                const movement = addDirectionalMove(\n                    boardValues,\n                    piece,\n                    position,\n                    i,\n                )\n                if (movement[0] != null) {\n                    possibleMovements.push(movement[0])\n                } else if (movement[1] != null) {\n                    killMovements.push(movement[1])\n                    blockForwardLeftDiagonal = true\n                } else {\n                    blockForwardLeftDiagonal = true\n                }\n            }\n        }\n    })\n    return [possibleMovements, killMovements]\n}\n\nexport function canCastle(\n    boardValues: BoardValues,\n    king: Piece,\n    kingPosition: BoardPosition,\n): Nullable<Castle> {\n    const rookPositions: BoardPosition[] = []\n    var newBoardValues = { ...boardValues }\n    if (king.movement !== null && king.movement.firstMove !== null) {\n        /* \n        1st: king and rook may not been moved\n        2nd: all spaces between rook and king must be empty\n        3rd: king cannot be in check\n        4th: the squares that the king passes over must not be under attack \n        */\n        // horizontally finding rook\n        const horizontalMovements = [1, 2, 3, 4]\n        //movements to right\n        for (let i of horizontalMovements) {\n            const column = getColumnNumber(kingPosition.column)\n            const nextColumn = column! + i\n            const nextColumnLetter = getColumnLetter(nextColumn)\n            const boardPosition = {\n                column: nextColumnLetter,\n                row: kingPosition.row,\n            }\n            const piece =\n                newBoardValues.board.getPieceFromPosition(boardPosition)\n            if (piece !== null) {\n                if (!(piece instanceof Rook)) {\n                    break\n                }\n                if (piece.movement?.firstMove === null) {\n                    break\n                }\n                // rook and king didn't move and there are no pieces between them\n                rookPositions.push(boardPosition)\n                break\n            }\n        }\n        //movements to left\n        for (let i of horizontalMovements) {\n            const column = getColumnNumber(kingPosition.column)\n            const nextColumn = column! - i\n            const nextColumnLetter = getColumnLetter(nextColumn)\n            const boardPosition = {\n                column: nextColumnLetter,\n                row: kingPosition.row,\n            }\n            const piece =\n                newBoardValues.board.getPieceFromPosition(boardPosition)\n            if (piece !== null) {\n                if (!(piece instanceof Rook)) {\n                    break\n                }\n                if (piece.movement?.firstMove === null) {\n                    break\n                }\n                rookPositions.push(boardPosition)\n                break\n            }\n        }\n    } else return null\n    if (rookPositions.length > 0) {\n        return {\n            rookPosition: rookPositions,\n        }\n    }\n    return null\n}\n\nexport function resetBoardValues(boardValues: BoardValues): BoardValues {\n    var newBoardValues = { ...boardValues }\n    newBoardValues.board = createNewBoard()\n    newBoardValues.selected = null\n    newBoardValues.movements = []\n    newBoardValues.killMovements = []\n    newBoardValues.check = null\n    newBoardValues.cemetery = []\n    newBoardValues.endGame = false\n    newBoardValues.iterations = 0\n\n    return newBoardValues\n}\n\nexport function castle(\n    boardValues: BoardValues,\n    kingPosition: BoardPosition,\n    rookPosition: BoardPosition,\n): Nullable<BoardValues> {\n    const rooks: BoardPosition[] = [\n        { column: \"A\", row: 1 },\n        { column: \"H\", row: 1 },\n        { column: \"A\", row: 8 },\n        { column: \"H\", row: 8 },\n    ]\n    const newKingPositions: BoardPosition[] = [\n        { column: \"C\", row: 1 },\n        { column: \"F\", row: 1 },\n        { column: \"C\", row: 8 },\n        { column: \"F\", row: 8 },\n    ]\n    const newRookPositions: BoardPosition[] = [\n        { column: \"D\", row: 1 },\n        { column: \"E\", row: 1 },\n        { column: \"D\", row: 8 },\n        { column: \"E\", row: 8 },\n    ]\n    console.log(`rookPosition ${rookPosition.column}${rookPosition.row}`)\n    let castleIndex = rooks.findIndex(\n        (i) => i.column === rookPosition.column && i.row === rookPosition.row,\n    )\n    console.log(`castleIndex ${castleIndex}`)\n    let newBoardValues = { ...boardValues }\n    const newKingPosition: BoardPosition = newKingPositions[castleIndex]\n    const newRookPosition: BoardPosition = newRookPositions[castleIndex]\n    const rook: Piece | null =\n        newBoardValues.board.getPieceFromPosition(rookPosition)\n    const king: Piece | null =\n        newBoardValues.board.getPieceFromPosition(kingPosition)\n    if (rook === null) return null\n    if (rook.movement === null) return null\n    if (king === null) return null\n    if (king.movement === null) return null\n    rook.movement.firstMove = null\n    king.movement.firstMove = null\n    newBoardValues.board.removePieceFromPosition(rookPosition)\n    newBoardValues.board.removePieceFromPosition(kingPosition)\n    console.log(`Rook ${rook} : newRookPosition ${newRookPosition}`)\n    console.log(`King ${king} : newKingPosition ${newKingPosition}`)\n    //TODO: Check how to handle history here\n    newBoardValues.board.addPieceToPosition(rook, newRookPosition)\n    newBoardValues.board.addPieceToPosition(king, newKingPosition)\n    newBoardValues.selected = null\n    newBoardValues.movements = []\n    newBoardValues.killMovements = []\n    newBoardValues.iterations++\n\n    return newBoardValues\n}\n\nexport function pawnSwitchPiece(\n    boardValues: BoardValues,\n    piece: Piece,\n    position: BoardPosition,\n): Nullable<BoardValues> {\n    var newBoardValues = { ...boardValues }\n    const pieceOnPosition = newBoardValues.board.getPieceFromPosition(position)\n    if (pieceOnPosition instanceof Pawn) {\n        newBoardValues.board.removePieceFromPosition(position)\n        newBoardValues.board.addPieceToPosition(piece, position)\n        newBoardValues.check = getCheck(newBoardValues)\n        newBoardValues.iterations++\n        return newBoardValues\n    }\n    return null\n}\n\nexport function killMove(\n    boardValues: BoardValues,\n    positionA: BoardPosition,\n    positionB: BoardPosition,\n): BoardValues {\n    const newBoardValues = { ...boardValues }\n    const killerPiece = newBoardValues.board.getPieceFromPosition(positionA)\n    const deadPiece = newBoardValues.board.getPieceFromPosition(positionB)\n\n    newBoardValues.cemetery.push(\n        newBoardValues.board.getPieceFromPosition(positionB)!,\n    )\n    // remove selected piece\n    newBoardValues.board.removePieceFromPosition(positionA)\n    // move piece to killed piece position\n    newBoardValues.board.addPieceToPosition(killerPiece!, positionB)\n\n    newBoardValues.selected = null\n    newBoardValues.movements = []\n    newBoardValues.killMovements = []\n    newBoardValues.check = getCheck(newBoardValues)\n    newBoardValues.endGame = deadPiece instanceof King\n    newBoardValues.iterations++\n    return newBoardValues\n}\n","import React, { useState } from \"react\"\nimport { Piece, Rook, Knight, Bishop, Queen } from \"../../Pieces/pieces\"\nimport { Colors } from \"../../Constants/colors\"\n\ntype PawnSwitchProps = {\n    isBlack: boolean\n    selected: (piece: Piece) => void\n}\nexport const PawnSwitch: React.FC<PawnSwitchProps> = ({\n    isBlack,\n    selected,\n}) => {\n    const styles = {\n        pawnSwitch: {\n            display: \"flex\",\n        },\n        item: {\n            padding: 20,\n        },\n        image: {\n            filter: isBlack ? \"none\" : \"invert(100%)\",\n            width: \"10vw\",\n            height: \"10vw\",\n        },\n    }\n\n    const [selectedPiece, setSelectedPiece] = useState<Nullable<Piece>>(null)\n\n    function selectPiece(i: Piece) {\n        console.log(`selected: ${i.image}`)\n        setSelectedPiece(i)\n        selected(i)\n    }\n\n    function renderPieces() {\n        let pieces: Piece[] = [\n            new Rook(isBlack),\n            new Knight(isBlack),\n            new Bishop(isBlack),\n            new Queen(isBlack),\n        ]\n        return pieces.map((i) => {\n            var image = require(\"../assets/\" + i.image)\n            return (\n                <div\n                    onClick={() => selectPiece(i)}\n                    style={{\n                        ...styles.item,\n                        backgroundColor:\n                            selectedPiece?.image === i.image\n                                ? Colors.selected_green\n                                : isBlack\n                                ? Colors.white\n                                : Colors.black,\n                    }}\n                >\n                    <img style={styles.image} src={image.default} alt=\"\" />\n                </div>\n            )\n        })\n    }\n\n    return <div style={styles.pawnSwitch}>{renderPieces()}</div>\n}\n","import React, { useState } from \"react\"\nimport { Dialog, Button } from \"@mui/material\"\nimport { PawnSwitch } from \"./pawnSwitch\"\nimport { Piece } from \"../../Pieces/pieces\"\n\ntype PawnSwitchDialogProps = {\n    open: IPawnSwitch\n    handleClose: (piece: Piece, position: BoardPosition) => void\n}\n\nexport const PawnSwitchDialog: React.FC<PawnSwitchDialogProps> = ({\n    open,\n    handleClose,\n}) => {\n    const [selected, setSelected] = useState<Nullable<Piece>>(null)\n    return (\n        <Dialog open={open.open}>\n            <PawnSwitch\n                isBlack={open.isBlack!}\n                selected={(piece) => setSelected(piece)}\n            />\n            <Button\n                disabled={selected === null}\n                onClick={() => handleClose(selected!, open.position!)}\n            >\n                Ok\n            </Button>\n        </Dialog>\n    )\n}\n","import { useState, useEffect } from \"react\"\n\nexport type WindowDimension = {\n    width: number\n    height: number\n}\n\nvar max = 1000\n\nfunction getWindowDimensions(): WindowDimension {\n    const { innerWidth: width, innerHeight: height } = window\n    return { width, height }\n}\n\nfunction isMaxWidth(windowDimensions: WindowDimension): boolean {\n    const { width } = windowDimensions\n    return width > max\n}\n\nexport default function useIsMax() {\n    const [isMobile, setIsMobile] = useState<boolean>(\n        isMaxWidth(getWindowDimensions()),\n    )\n\n    useEffect(() => {\n        function handleResize() {\n            const _windowDimensions = getWindowDimensions()\n            const _isMobile = isMaxWidth(_windowDimensions)\n            setIsMobile(_isMobile)\n        }\n        window.addEventListener(\"resize\", handleResize)\n        return () => window.removeEventListener(\"resize\", handleResize)\n    }, [])\n\n    return isMobile\n}\n","import axios from \"axios\"\nimport * as dotenv from \"dotenv\"\n\ndotenv.config({ path: \"../.env\" })\n//const host = \"http://localhost:8080\"\nconst host = \"https://chess001.herokuapp.com\"\n\n//const getMovements = () => axios.get(`${process.env.BASE_URL}/movements`)\nexport function getMovements(\n    onSuccess: (newMovements: BoardMovement[]) => void,\n) {\n    axios\n        .get(`${host}/movements`)\n        .then((response) => {\n            console.table(response.data)\n            const newMovements = response.data as BoardMovement[]\n            onSuccess(newMovements)\n        })\n        .catch((error) => {\n            console.error(\"Error fetching movements\", error)\n        })\n}\n\nexport function postMovement(movement: BoardMovement) {\n    axios\n        .post(`${host}/movements`, movement)\n        .then((response) => {\n            console.log(`Successfully added movement`)\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nexport function resetMovements(onSuccess: () => void) {\n    axios\n        .delete(`${host}/movements`)\n        .then((response) => {\n            onSuccess()\n            console.log(\"Successfully delete movements\")\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nexport function startEventSource(listener: (data: number) => void) {\n    const eventSource = new EventSource(`${host}/sse`)\n    eventSource.addEventListener(\"message\", (event: MessageEvent) => {\n        try {\n            listener(parseInt(event.data))\n        } catch {}\n    })\n}\n","import styled from \"styled-components\"\nimport { Colors } from \"../../Constants/colors\"\n\nconst TurnBar = styled.div`\n    width: 100%;\n    height: 5px;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    border-radius: 5px;\n    filter: drop-shadow(2px 2px 4px ${Colors.shadow_gray});\n    background-color: yellow;\n    transition: opacity 3s;\n`\n\nexport const TurnBarWhite = styled(TurnBar)<{ blackTurn: boolean }>`\n    opacity: ${(p) => (p.blackTurn ? 0 : 1)};\n`\nexport const TurnBarBlack = styled(TurnBar)<{ blackTurn: boolean }>`\n    opacity: ${(p) => (p.blackTurn ? 1 : 0)};\n`\n","import styled from \"styled-components\"\nimport { Colors } from \"../../Constants/colors\"\n\nexport const SelectButton = styled.div`\n    display: flex;\n    padding: 20px;\n    margin: 20px;\n    color: ${Colors.white};\n    background-color: ${Colors.move_blue};\n    text-transform: uppercase;\n    font-family: \"Roboto\";\n    font-size: 3em;\n    text-align: center;\n    justify-content: center;\n    border-radius: 50px;\n    filter: drop-shadow(2px 2px 4px ${Colors.shadow_gray});\n    transition: 500ms linear;\n    &:hover {\n        background-color: ${Colors.shadow_gray};\n        transition: 500ms linear;\n    }\n    &:active {\n        background-color: ${Colors.selected_green};\n        transition: 200ms linear;\n    }\n`\n\ntype ImageButtomProps = {\n    src: string\n    text: string\n}\n\nexport const ImageButton: React.FC<ImageButtomProps> = ({ src, text }) => {\n    const getImage = () => {\n        var image = require(\"../assets/\" + src)\n        return <img src={image.default} alt={\"\"} />\n    }\n    return (\n        <SelectButton>\n            {getImage}\n            {text}\n        </SelectButton>\n    )\n}\n","import React from \"react\"\nimport { SelectButton } from \"../Buttons/SelectButton\"\nimport styled from \"styled-components\"\nimport { Dialog } from \"@material-ui/core\"\nimport { Slide } from \"@mui/material\"\nimport { Colors } from \"../../Constants/colors\"\n\ntype JoinGameDialogProps = {\n    open: boolean\n    buttonClick: () => void\n    backClick: () => void\n}\n\nexport const JoinGameDialog: React.FC<JoinGameDialogProps> = ({\n    open,\n    buttonClick,\n    backClick,\n}) => {\n    const MultiplayerDialog = styled(Dialog)`\n        width: 100%;\n        overflow: none;\n    `\n\n    const MultiplayerDialogWrapper = styled.div`\n        display: inline;\n    `\n\n    const DialogContentWrapper = styled.div`\n        display: block;\n        width: auto;\n        text-align: center;\n        z-index: 1px;\n        padding-top: 20px;\n        margin-left: 20px;\n        margin-right: 20px;\n        margin-bottom: 20px;\n    `\n    const Header = styled.div`\n        font-size: 25px;\n        font-family: \"Roboto\";\n        padding-top: 20px;\n        padding-bottom: 20px;\n        text-align: center;\n        color: white;\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n\n    const CodeInput = styled.input`\n        padding: 16px;\n        font-family: \"Roboto\";\n        font-size: 35px;\n        border-radius: 5px;\n        border-color: white;\n        background-color: transparent;\n        color: white;\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n    const Title = styled.div`\n        padding: 20px;\n        text-align: center;\n        font-family: \"Roboto\";\n        font-size: 45px;\n        font-variant: small-caps;\n        color: white;\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n    return (\n        <MultiplayerDialog\n            open={open}\n            TransitionComponent={Slide}\n            transitionDuration={2000}\n            PaperProps={{\n                style: {\n                    backgroundColor: \"transparent\",\n                    boxShadow: \"none\",\n                    overflow: \"none\",\n                    width: \"100%\",\n                },\n            }}\n        >\n            <MultiplayerDialogWrapper>\n                <Title>Multiplayer Game</Title>\n                <DialogContentWrapper>\n                    <Header>\n                        To join a game, type your friend's code here\n                    </Header>\n                    <CodeInput type=\"text\"></CodeInput>\n                </DialogContentWrapper>\n            </MultiplayerDialogWrapper>\n            <SelectButton\n                onClick={() => {\n                    buttonClick()\n                }}\n            >\n                JOIN\n            </SelectButton>\n            <SelectButton\n                onClick={() => {\n                    backClick()\n                }}\n            >\n                BACK\n            </SelectButton>\n        </MultiplayerDialog>\n    )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Dialog } from \"@material-ui/core\"\nimport { SelectButton } from \"../Buttons/SelectButton\"\nimport { Slide } from \"@mui/material\"\n\ntype GameSelectionDialogProps = {\n    open: boolean\n    textOne: string\n    textTwo: string\n    clickOne: () => void\n    clickTwo: () => void\n}\n\nexport const GameSelectionDialog: React.FC<GameSelectionDialogProps> = ({\n    open,\n    textOne,\n    textTwo,\n    clickOne,\n    clickTwo,\n}) => {\n    const GameSelectionDialog = styled(Dialog)`\n        display: inline;\n        transition: fade 1000ms linear;\n    `\n    const InlineWrapper = styled.div`\n        display: inline;\n        padding: 20px;\n    `\n    return (\n        <GameSelectionDialog\n            open={open}\n            TransitionComponent={Slide}\n            transitionDuration={2000}\n            PaperProps={{\n                style: {\n                    backgroundColor: \"transparent\",\n                    boxShadow: \"none\",\n                    overflow: \"none\",\n                    width: \"100%\",\n                },\n            }}\n        >\n            <InlineWrapper>\n                <SelectButton\n                    onClick={() => {\n                        clickOne()\n                    }}\n                >\n                    {textOne}\n                </SelectButton>\n                <SelectButton\n                    onClick={() => {\n                        clickTwo()\n                    }}\n                >\n                    {textTwo}\n                </SelectButton>\n            </InlineWrapper>\n        </GameSelectionDialog>\n    )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Colors } from \"../../Constants/colors\"\nimport \"@fontsource/roboto\"\n\nexport const CodeGenerator: React.FC = () => {\n    const CodeGeneratorField = styled.div`\n        display: inline-block;\n        padding-top: 16px;\n        padding-bottom: 16px;\n        padding-left: 26px;\n        padding-right: 26px;\n        border-style: solid;\n        border-radius: 5px;\n        border-width: 5px;\n        margin-top: 20px;\n        margin-bottom: 20px;\n        font-family: \"Roboto\";\n        font-weight: bold;\n        font-size: 30px;\n        text-align: center;\n        color: ${Colors.white};\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n    const random = Math.random().toString(16).substring(2, 8)\n\n    return <CodeGeneratorField>{random}</CodeGeneratorField>\n}\n","import React from \"react\"\nimport { CodeGenerator } from \"../Components/CodeGenerator\"\nimport { SelectButton } from \"../Buttons/SelectButton\"\nimport styled from \"styled-components\"\nimport { Dialog } from \"@material-ui/core\"\nimport { Slide } from \"@mui/material\"\nimport { Colors } from \"../../Constants/colors\"\n\ntype CreateGameDialogProps = {\n    open: boolean\n    buttonClick: () => void\n    backClick: () => void\n}\n\nexport const CreateGameDialog: React.FC<CreateGameDialogProps> = ({\n    open,\n    buttonClick,\n    backClick,\n}) => {\n    const MultiplayerDialog = styled(Dialog)`\n        width: 100%;\n        overflow: none;\n    `\n\n    const MultiplayerDialogWrapper = styled.div`\n        display: inline;\n    `\n\n    const DialogContentWrapper = styled.div`\n        display: block;\n        width: auto;\n        z-index: 1px;\n        padding-top: 20px;\n        margin-left: 20px;\n        margin-right: 20px;\n        margin-bottom: 20px;\n        text-align: center;\n        justify-content: center;\n        align-items: center;\n    `\n    const Header = styled.div`\n        font-size: 25px;\n        font-family: \"Roboto\";\n        font-weight: bold;\n        padding-top: 20px;\n        padding-bottom: 20px;\n        color: white;\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n\n    const Title = styled.div`\n        padding: 20px;\n        text-align: center;\n        font-family: \"Roboto\";\n        font-size: 45px;\n        font-variant: small-caps;\n        color: white;\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n    return (\n        <MultiplayerDialog\n            open={open}\n            TransitionComponent={Slide}\n            transitionDuration={2000}\n            PaperProps={{\n                style: {\n                    backgroundColor: \"transparent\",\n                    boxShadow: \"none\",\n                    overflow: \"none\",\n                    width: \"100%\",\n                },\n            }}\n        >\n            <MultiplayerDialogWrapper>\n                <Title>Multiplayer Game</Title>\n                <DialogContentWrapper>\n                    <Header>\n                        To play this game with a friend you must send this\n                        following code to your friend\n                    </Header>\n                    <CodeGenerator />\n                </DialogContentWrapper>\n            </MultiplayerDialogWrapper>\n            <SelectButton\n                onClick={() => {\n                    buttonClick()\n                }}\n            >\n                START\n            </SelectButton>\n            <SelectButton\n                onClick={() => {\n                    backClick()\n                }}\n            >\n                BACK\n            </SelectButton>\n        </MultiplayerDialog>\n    )\n}\n","import React, { useEffect, useRef, useState } from \"react\"\nimport {\n    Piece,\n    Pawn,\n    Rook,\n    King,\n    Knight,\n    Queen,\n    Bishop,\n} from \"../Pieces/pieces\"\nimport { Colors } from \"../Constants/colors\"\nimport { BoardRow } from \"./board_row\"\nimport { Cemetery } from \"./cemetery\"\nimport { Board } from \"../board\"\nimport { Status, StatusTab } from \"./status\"\nimport { MovementType, getPieceType, createNewBoard } from \"./utils\"\nimport {\n    getCheck,\n    getMovesForPiece,\n    resetBoardValues,\n    castle,\n    pawnSwitchPiece,\n    killMove,\n} from \"./board_mechanics\"\nimport { BoardValues } from \"./board_mechanics\"\nimport { PawnSwitchDialog } from \"../stories/Dialogs/pawnSwitchDialog\"\nimport { Dialog, Button } from \"@mui/material\"\nimport useIsMax from \"../windowDimension\"\nimport \"@fontsource/roboto\"\nimport texture from \"../stories/assets/darkTexture.jpeg\"\n//import { GoogleLoginDialog } from \"../Dialogs/googleLogin\"\nimport {\n    getMovements,\n    startEventSource,\n    postMovement,\n    resetMovements,\n} from \"../Repositories/movementRepository\"\nimport styled from \"styled-components\"\nimport { TurnBarWhite, TurnBarBlack } from \"../stories/Components/TurnBar\"\nimport { JoinGameDialog } from \"../stories/Dialogs/JoinGameDialog\"\nimport { GameSelectionDialog } from \"../stories/Dialogs/GameSelectionDialog\"\nimport { CreateGameDialog } from \"../stories/Dialogs/CreateGameDialog\"\n/* The board has to have 64 piece in a square 8x8 */\n\ntype BoardComponentProps = {\n    startBoard: Nullable<Piece>[][]\n    _blackTurn: (backTurn: boolean) => void\n}\n\nexport const BoardComponent: React.FC<BoardComponentProps> = ({\n    startBoard,\n    _blackTurn,\n}) => {\n    const isMaxWidth: boolean = useIsMax()\n    const blackTurn = useRef<boolean>(false)\n\n    const Board = styled.div`\n        display: block;\n        background-image: url(${texture});\n        background-position: center;\n        background-repeat: \"repeat\";\n        padding-bottom: ${isMaxWidth ? \"50px\" : \"5vw\"};\n        padding-right: ${isMaxWidth ? \"50px\" : \"5vw\"};\n        color: ${Colors.white};\n        font-family: \"Roboto\";\n        border-radius: 5px;\n        border-style: solid;\n        border-color: ${Colors.black};\n        border-width: 1px;\n        filter: drop-shadow(2px 2px 2px ${Colors.shadow_gray});\n    `\n\n    const BoardWrapper = styled.div`\n        display: inline-block;\n        width: 100%;\n        max-width: 1000px;\n        justify-content: center;\n        align-items: center;\n        margin-left: 50%;\n        transform: translate(-50%, 0%);\n    `\n\n    const FlexDiv = styled.div`\n        display: flex;\n    `\n\n    const RowNumber = styled.div<{ rowNumber: number }>`\n        display: flex;\n        width: 8%;\n        justify-content: center;\n        align-self: center;\n        padding-top: ${(p) => (p.rowNumber === 8 ? 50 : 0)}px;\n        filter: drop-shadow(2px, 2px, 2px, ${Colors.shadow_gray});\n    `\n\n    const [boardValues, setBoardValues] = useState<BoardValues>({\n        board: createNewBoard(),\n        selected: null,\n        movements: [],\n        killMovements: [],\n        check: null,\n        cemetery: [],\n        endGame: false,\n        iterations: 0,\n    })\n    const boardValuesRef = useRef<BoardValues>(boardValues)\n    const [multiplayer, setMultiplayer] = useState<boolean>(false)\n    const [gameSelectionDialog, setGameSelectionDialog] = useState<boolean>(\n        boardValues.iterations === 0,\n    )\n    const [multiplayerDialog, setMultiplayerDialog] = useState<boolean>(false)\n    const [createGameDialog, setCreateGameDialog] = useState<boolean>(false)\n    const [joinGameDialog, setJoinGameDialog] = useState<boolean>(false)\n    const [openDialog, setOpenDialog] = useState<IPawnSwitch>({\n        open: false,\n        isBlack: null,\n        position: null,\n    })\n    const [endDialog, setEndDialog] = useState<boolean>(false)\n    const movements = useRef<BoardMovement[]>([])\n    const [sseStarted, setSseStarted] = useState<boolean>(false)\n    const loading = useRef<boolean>(false)\n\n    useEffect(() => {\n        if (boardValuesRef.current.endGame) {\n            setEndDialog(true)\n        }\n        if (!sseStarted && multiplayer) {\n            startEventSource((data: number) => {\n                updateMovement(data)\n            })\n            setSseStarted(true)\n        }\n        _blackTurn(blackTurn.current)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [boardValues])\n\n    function updateMovement(eventNumber: number) {\n        if (eventNumber > movements.current.length) {\n            if (loading.current === false) {\n                loading.current = true\n                getMovements((newMovements: BoardMovement[]) => {\n                    loading.current = false\n                    handleMultiplayerMovement(newMovements)\n                })\n            }\n        } else if (eventNumber === 0 && movements.current.length > 0) {\n            loading.current = true\n            getMovements((newMovements: BoardMovement[]) => {\n                loading.current = false\n                handleMultiplayerMovement(newMovements)\n            })\n        }\n    }\n\n    function canMove(\n        selectedPosition: Nullable<BoardPosition>,\n        position: Nullable<BoardPosition>,\n    ) {\n        var newBoardValues = { ...boardValuesRef.current }\n        if (newBoardValues.movements === null) return\n        const movementMatch = newBoardValues.movements.filter((i) => {\n            if (i?.column !== null && i?.row !== null) {\n                return (\n                    i?.column === position?.column && i?.row === position?.row\n                )\n            }\n            return false\n        })\n        if (movementMatch.length > 0) {\n            if (multiplayer) {\n                postMovement({\n                    type: MovementType.Movement,\n                    from: `${selectedPosition!.column}${selectedPosition!.row}`,\n                    to: `${position!.column}${position!.row}`,\n                })\n            } else {\n                movePiece(selectedPosition!, position!)\n                movements.current.push({\n                    type: MovementType.Movement,\n                    from: `${selectedPosition!.column}${selectedPosition!.row}`,\n                    to: `${position!.column}${position!.row}`,\n                })\n            }\n        }\n    }\n\n    function movePiece(positionA: BoardPosition, positionB: BoardPosition) {\n        const newBoardValues = { ...boardValuesRef.current }\n        const piece: Nullable<Piece> =\n            newBoardValues.board.getPieceFromPosition(positionA)\n\n        newBoardValues.board.removePieceFromPosition(positionA)\n\n        // remove first move from the pawn / king / rook\n        if (piece !== null && piece.movement !== null) {\n            piece.movement.firstMove = null\n        }\n\n        newBoardValues.board.addPieceToPosition(piece!, positionB)\n\n        // does check still exist\n        if (newBoardValues.check !== null) {\n            const checkPiece = newBoardValues.board.getPieceFromPosition(\n                newBoardValues.check[0],\n            )\n            if (checkPiece !== null) {\n                getMovesForPiece(\n                    newBoardValues,\n                    checkPiece,\n                    newBoardValues.check[0],\n                )[1].forEach((i) => {\n                    const killPiece =\n                        newBoardValues.board.getPieceFromPosition(i)\n                    if (killPiece instanceof King) {\n                        newBoardValues.endGame = true\n                    }\n                })\n                if (newBoardValues.endGame === false)\n                    newBoardValues.check = null\n            }\n        }\n\n        checkPawnSwitch(piece!, positionB)\n\n        newBoardValues.check = getCheck(newBoardValues)\n        console.log(`isBlackTurn: ${blackTurn}`)\n\n        newBoardValues.selected = null\n        newBoardValues.movements = []\n        newBoardValues.killMovements = []\n\n        blackTurn.current = !blackTurn.current\n\n        boardValuesRef.current = newBoardValues\n        setBoardValues(newBoardValues)\n    }\n\n    function handleKillMove(\n        boardValues: BoardValues,\n        positionA: BoardPosition,\n        positionB: BoardPosition,\n    ) {\n        const newBoardValues = killMove(boardValues, positionA, positionB)\n        blackTurn.current = !blackTurn.current\n        boardValuesRef.current = newBoardValues\n        setBoardValues(newBoardValues)\n\n        const killerPiece = newBoardValues.board.getPieceFromPosition(positionA)\n        checkPawnSwitch(killerPiece!, positionB)\n    }\n\n    function handleCastle(\n        boardValues: BoardValues,\n        kingPosition: BoardPosition,\n        rookPosition: BoardPosition,\n    ) {\n        const newBoardValues = castle(boardValues, kingPosition, rookPosition)!\n        blackTurn.current = !blackTurn.current\n\n        //New way\n        if (multiplayer) {\n            postMovement({\n                type: MovementType.Castle,\n                from: `${kingPosition.column}${kingPosition.row}`,\n                to: `${rookPosition.column}${rookPosition.row}`,\n            })\n        } else {\n            movements.current.push({\n                type: MovementType.Castle,\n                from: `${kingPosition.column}${kingPosition.row}`,\n                to: `${rookPosition.column}${rookPosition.row}`,\n            })\n        }\n\n        boardValuesRef.current = newBoardValues\n        setBoardValues(newBoardValues)\n    }\n\n    function checkPawnSwitch(piece: Piece, position: BoardPosition) {\n        if (piece instanceof Pawn) {\n            if (piece.isBlack && position.row === 1) {\n                setOpenDialog({ open: true, isBlack: true, position: position })\n            }\n            if (!piece.isBlack && position.row === 8) {\n                setOpenDialog({\n                    open: true,\n                    isBlack: false,\n                    position: position,\n                })\n            }\n        }\n    }\n\n    function handlePawnSwitch(\n        boardValues: BoardValues,\n        piece: Piece,\n        position: BoardPosition,\n    ) {\n        setOpenDialog({ open: false, isBlack: null, position: null })\n        var newBoardValues = pawnSwitchPiece(boardValues, piece, position)\n\n        if (newBoardValues === null) return\n\n        postMovement({\n            type: `${getPieceType(piece)}`,\n            from: `${position.column}${position.row}`,\n            to: `${position.column}${position.row}`,\n        })\n        boardValuesRef.current = newBoardValues\n        setBoardValues(newBoardValues)\n    }\n\n    function handleSelected(position: BoardPosition) {\n        const newBoardValues = { ...boardValuesRef.current }\n        const board: Board = newBoardValues.board\n        const selectedPiece = board.getPieceFromPosition(\n            newBoardValues.selected,\n        )\n        const piece = board.getPieceFromPosition(position)\n\n        //isSelected?\n        if (newBoardValues.selected === null) {\n            if (piece !== null) {\n                if (piece.isBlack === blackTurn.current) {\n                    newBoardValues.selected = position\n                    const moves = getMovesForPiece(\n                        newBoardValues,\n                        piece,\n                        position,\n                    )\n                    newBoardValues.movements = moves[0]\n                    newBoardValues.killMovements = moves[1]\n                    newBoardValues.iterations++\n                    boardValuesRef.current = newBoardValues\n                    setBoardValues(newBoardValues)\n                    return\n                }\n            }\n        } else {\n            //selected same\n            if (\n                newBoardValues.selected.row === position.row &&\n                newBoardValues.selected.column === position.column\n            ) {\n                return\n            }\n\n            //selected other\n            if (piece !== null) {\n                if (piece.isBlack === selectedPiece?.isBlack) {\n                    //handle castle\n                    if (\n                        selectedPiece instanceof King &&\n                        piece instanceof Rook\n                    ) {\n                        if (\n                            selectedPiece.movement?.firstMove !== null &&\n                            piece.movement?.firstMove !== null\n                        ) {\n                            handleCastle(\n                                newBoardValues,\n                                newBoardValues.selected!,\n                                position,\n                            )\n                            return\n                        }\n                    }\n                    //selected new piece\n                    newBoardValues.selected = position\n                    //setMovements\n                    const moves = getMovesForPiece(\n                        newBoardValues,\n                        piece,\n                        position,\n                    )\n                    newBoardValues.movements = moves[0]\n                    newBoardValues.killMovements = moves[1]\n                    moves[1].forEach((i) => {\n                        const killPiece =\n                            newBoardValues.board.getPieceFromPosition(i)\n                        if (killPiece instanceof King) {\n                            newBoardValues.check = [position, i!]\n                        }\n                    })\n                    newBoardValues.iterations++\n                    boardValuesRef.current = newBoardValues\n                    setBoardValues(newBoardValues)\n                    return\n                } else {\n                    // if it is a kill move\n                    const isKillMove: boolean =\n                        newBoardValues.killMovements.filter(\n                            (i) =>\n                                i?.column === position.column &&\n                                i.row === position.row,\n                        ).length > 0\n                    if (isKillMove) {\n                        if (multiplayer) {\n                            postMovement({\n                                type: MovementType.Kill,\n                                from: `${newBoardValues.selected!.column}${\n                                    newBoardValues.selected!.row\n                                }`,\n                                to: `${position!.column}${position!.row}`,\n                            })\n                        } else\n                            handleKillMove(\n                                newBoardValues,\n                                newBoardValues.selected!,\n                                position,\n                            )\n                        return\n                    }\n                }\n            } else {\n                // there is a selected piece, and user selected a movement square\n                canMove(newBoardValues.selected!, position)\n            }\n        }\n    }\n\n    function resetBoard() {\n        setEndDialog(false)\n        setOpenDialog({ open: false, isBlack: null, position: null })\n        var newBoardValues = resetBoardValues(boardValuesRef.current)\n        blackTurn.current = false\n\n        if (multiplayer) {\n            resetMovements(() => {\n                movements.current = []\n                boardValuesRef.current = newBoardValues\n                setBoardValues(newBoardValues)\n            })\n        } else {\n            movements.current = []\n            boardValuesRef.current = newBoardValues\n            setBoardValues(newBoardValues)\n        }\n    }\n\n    function handleMultiplayerMovement(eventMovements: BoardMovement[]) {\n        try {\n            if (eventMovements.length === 0) {\n                resetBoard()\n                return\n            }\n\n            const eventLastMove: BoardMovement =\n                eventMovements[eventMovements.length - 1]\n            if (movements.current.length > 0) {\n                const lastMove: BoardMovement =\n                    movements.current[movements.current.length - 1]\n                if (lastMove.from === eventLastMove.from) {\n                    return\n                }\n            }\n\n            const numberOfMovesAhead =\n                eventMovements.length - movements.current.length\n\n            const movesAhead: BoardMovement[] = eventMovements.slice(\n                eventMovements.length - numberOfMovesAhead,\n            )\n\n            movesAhead.forEach((i) => {\n                const positionA: BoardPosition = {\n                    column: i.from[0],\n                    row: parseInt(i.from[1]),\n                }\n                const positionB: BoardPosition = {\n                    column: i.to[0],\n                    row: parseInt(i.to[1]),\n                }\n\n                switch (eventLastMove.type) {\n                    case MovementType.Movement:\n                        movePiece(positionA, positionB)\n                        break\n                    case MovementType.Kill:\n                        handleKillMove(\n                            boardValuesRef.current,\n                            positionA,\n                            positionB,\n                        )\n                        break\n                    case MovementType.Castle:\n                        castle(boardValuesRef.current, positionA, positionB)\n                        break\n                    case MovementType.Rook:\n                        handlePawnSwitch(\n                            boardValuesRef.current,\n                            new Rook(!blackTurn.current),\n                            positionA,\n                        )\n                        break\n                    case MovementType.Knight:\n                        handlePawnSwitch(\n                            boardValuesRef.current,\n                            new Knight(!blackTurn.current),\n                            positionA,\n                        )\n                        break\n                    case MovementType.Bishop:\n                        handlePawnSwitch(\n                            boardValuesRef.current,\n                            new Bishop(!blackTurn.current),\n                            positionA,\n                        )\n                        break\n                    case MovementType.Queen:\n                        handlePawnSwitch(\n                            boardValuesRef.current,\n                            new Queen(!blackTurn.current),\n                            positionA,\n                        )\n                        break\n                }\n                movements.current = eventMovements\n            })\n        } catch {\n            console.log(\"Catch error on SSE\")\n        }\n    }\n\n    function renderRow(rowNumber: number) {\n        var newBoardValues = { ...boardValuesRef.current }\n        return (\n            <FlexDiv>\n                <RowNumber rowNumber={rowNumber}>{rowNumber}</RowNumber>\n                <BoardRow\n                    rowNumber={rowNumber}\n                    pieces={newBoardValues.board[rowNumber - 1]}\n                    selected={newBoardValues.selected}\n                    canMove={newBoardValues.movements}\n                    canKill={newBoardValues.killMovements}\n                    check={newBoardValues.check}\n                    onSelected={(boardPosition: BoardPosition) =>\n                        handleSelected(boardPosition)\n                    }\n                />\n            </FlexDiv>\n        )\n    }\n\n    const rowNumbers = [8, 7, 6, 5, 4, 3, 2, 1]\n\n    return (\n        <BoardWrapper>\n            <TurnBarBlack blackTurn={blackTurn.current} />\n            <Board>\n                {renderRow(rowNumbers[0])}\n                {renderRow(rowNumbers[1])}\n                {renderRow(rowNumbers[2])}\n                {renderRow(rowNumbers[3])}\n                {renderRow(rowNumbers[4])}\n                {renderRow(rowNumbers[5])}\n                {renderRow(rowNumbers[6])}\n                {renderRow(rowNumbers[7])}\n            </Board>\n            <TurnBarWhite blackTurn={blackTurn.current} />\n            <Cemetery cemetery={boardValues.cemetery} />\n            <StatusTab\n                isBlack={blackTurn.current}\n                status={boardValues.check ? Status.CHECK : Status.TURN}\n                restart={() => resetBoard()}\n            />\n            <PawnSwitchDialog\n                open={openDialog}\n                handleClose={(piece, position) =>\n                    handlePawnSwitch(boardValuesRef.current, piece, position)\n                }\n            />\n            <Dialog open={endDialog}>\n                <div style={{ padding: 20 }}>\n                    Game over - {blackTurn.current ? \"Black\" : \"White\"} won\n                </div>\n                <Button onClick={() => resetBoard()}>Restart</Button>\n            </Dialog>\n            <GameSelectionDialog\n                open={gameSelectionDialog}\n                textOne=\"Single Player\"\n                textTwo=\"Multi Player\"\n                clickOne={() => {\n                    setMultiplayer(false)\n                    setGameSelectionDialog(false)\n                }}\n                clickTwo={() => {\n                    setMultiplayer(true)\n                    setGameSelectionDialog(false)\n                    setMultiplayerDialog(true)\n                }}\n            />\n            <GameSelectionDialog\n                open={multiplayerDialog}\n                textOne=\"Create Game\"\n                textTwo=\"Join Game\"\n                clickOne={() => {\n                    setMultiplayerDialog(false)\n                    setCreateGameDialog(true)\n                }}\n                clickTwo={() => {\n                    setJoinGameDialog(true)\n                    setMultiplayerDialog(false)\n                }}\n            />\n            <CreateGameDialog\n                open={createGameDialog}\n                buttonClick={() => {\n                    setCreateGameDialog(false)\n                }}\n                backClick={() => {\n                    setCreateGameDialog(false)\n                    setMultiplayerDialog(true)\n                }}\n            />\n            <JoinGameDialog\n                open={joinGameDialog}\n                buttonClick={() => {\n                    setJoinGameDialog(false)\n                }}\n                backClick={() => {\n                    setJoinGameDialog(false)\n                    setMultiplayerDialog(true)\n                }}\n            />\n        </BoardWrapper>\n    )\n}\n//<GoogleLoginDialog open={true}/>\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport styled from \"styled-components\"\nimport { BoardComponent } from \"./Board/board_component\"\nimport { startBoard } from \"./Board/utils\"\nimport { Colors } from \"./Constants/colors\"\n\nconst Game: React.FC = () => {\n    const Root = styled.div`\n        height: 100%;\n        width: 94%;\n        margin-left: 3%;\n        margin-right: 3%;\n    `\n    const BoardWrapper = styled.div`\n        height: 100%;\n        width: 100%;\n    `\n\n    function updateBackground(blackTurn: boolean) {\n        document.body.style.background = blackTurn\n            ? Colors.shadow_gray\n            : Colors.white\n        document.body.style.transition = `background-color 1000ms linear`\n    }\n    return (\n        <Root>\n            <BoardWrapper>\n                <BoardComponent\n                    startBoard={startBoard}\n                    _blackTurn={(blackTurn: boolean) => {\n                        updateBackground(blackTurn)\n                    }}\n                />\n            </BoardWrapper>\n        </Root>\n    )\n}\n\nReactDOM.render(<Game />, document.getElementById(\"root\"))\n","export default \"data:image/jpeg;base64,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\"","var map = {\n\t\"./bishop.svg\": 122,\n\t\"./chess.png\": 123,\n\t\"./darkTexture.jpeg\": 49,\n\t\"./example/code-brackets.svg\": 124,\n\t\"./example/colors.svg\": 125,\n\t\"./example/comments.svg\": 126,\n\t\"./example/direction.svg\": 127,\n\t\"./example/flow.svg\": 128,\n\t\"./example/plugin.svg\": 129,\n\t\"./example/repo.svg\": 130,\n\t\"./example/stackalt.svg\": 131,\n\t\"./king.svg\": 132,\n\t\"./knight.svg\": 133,\n\t\"./lightTexture.jpeg\": 75,\n\t\"./pawn.svg\": 134,\n\t\"./queen.svg\": 135,\n\t\"./rook.svg\": 136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 58;","export default __webpack_public_path__ + \"static/media/lightTexture.d3029ca6.jpeg\";"],"sourceRoot":""}